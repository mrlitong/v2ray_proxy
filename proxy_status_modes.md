# V2Ray 代理状态显示功能说明

## 功能概述

V2Ray 代理状态显示功能已支持两种显示模式：

### 1. 单次展示模式（自动退出）
- 显示一次代理状态信息后自动退出
- 适合快速查看当前状态

### 2. 实时监控模式（3秒刷新）
- 每3秒自动刷新一次状态信息
- 适合持续监控代理状态
- 按 Ctrl+C 退出监控

#### 优化特性
- **无顿卡刷新**：先在后台收集所有数据（延迟测试、IP查询等），然后一次性刷新显示
- **流畅体验**：避免了逐步显示导致的界面闪烁和顿卡
- **数据完整**：每次刷新都显示完整的状态信息

## 使用方法

### 方式一：命令行参数

```bash
# 单次展示模式
sudo python3 v2ray_command.py proxy_status

# 实时监控模式
sudo python3 v2ray_command.py proxy_status_refresh
```

### 方式二：交互式菜单

```bash
sudo python3 v2ray_command.py
```

然后选择：
- 选项 55：显示代理状态（美化版）- 单次展示
- 选项 56：实时监控代理状态（3秒刷新）

## 显示内容

状态信息包括：
- 运行时间
- V2Ray 服务状态
- 当前节点信息
- 节点延迟测试
- 终端代理配置
- 代理IP信息
- 本地IP信息

## 注意事项

1. 需要 root 权限运行
2. 实时监控模式下，按 Ctrl+C 退出
3. 确保 V2Ray 服务正在运行以显示完整信息